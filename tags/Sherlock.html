<!DOCTYPE html>
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js"> <!--<![endif]-->
<head> 
    <!-- Standard Meta -->
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width" />

    <!-- Site Properities -->
    <title>Mind Vortex</title>
    <meta name="description" content="The place where I ramble on about software development, fluid dynamics, flying and climbing." />
    <meta name="keywords" content="Patrick van der Velde, Petrik, Nuclei, Sherlock, nAnicitus, nAdoni, nTreva, Fluid dynamics, CFD, rock climbing, paragliding" />
    <meta name="author" content="Petrik van der Velde" />

    <!-- DocPad Meta -->
    <meta name="generator" content="DocPad v6.53.0" />

    <!-- DocPad Styles + Our Own -->
    <style >html.wait {
	cursor: wait !important;
	opacity: 0;
	transition: opacity 0.5s ease;
}</style><link  rel="stylesheet" href="/vendor/normalize.css" /><link  rel="stylesheet" href="/vendor/h5bp.css" /><link  rel="stylesheet" href="/styles/style.css" /><link  rel="stylesheet" href="/styles/github.css" />

    <!-- Icons -->
    <!-- Favicon -->
    <link rel="shortcut icon" href="/icons/favicon.ico" />
    
    <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1/jquery.min.js"></script>
</head>
<body>
    <!--[if lt IE 7]>
        <p class="chromeframe">You are using an outdated browser. <a href="http://browsehappy.com/">Upgrade your browser today</a> or <a href="http://www.google.com/chromeframe/?redirect=true">install Google Chrome Frame</a> to better experience this site.</p>
    <![endif]-->
    
    <div id="header" class="container">
        <div id="logo">
            <h1><a href="/">Mind Vortex</a></h1>
        </div>
        <div id="menu">
            <ul>
                
                    <li class="inactive">
                        
                            <a href="/index.html">Home</a>
                        
                    </li>
                
                    <li class="inactive">
                        
                            <a href="/projects.html">Projects</a>
                        
                    </li>
                
                    <li class="inactive">
                        
                            <a href="/about.html">About</a>
                        
                    </li>
                
            </ul>
        </div>
    </div>
    <div id="page" class="container">
        <div id="sidebar">
            <div id="sbox1">
                <h2>Patrick van der Velde</h2>
<p><img src="http://www.gravatar.com/avatar/9bc8b3ff385cd14f2b12138c97729df2?s=160" alt="Gravatar for Patrick van der Velde"> </p>
<p>Dutch software developer, living, working and playing in New Zealand. 
Rock climber, and future paragliding pilot. Developer of <a href="http://pvandervelde.github.io/Sherlock">Sherlock</a>, 
<a href="http://pvandervelde.github.io/Nuclei">Nuclei</a> and other projects</p>
<p><a href="/about.html">More ...</a></p>

            </div>
            <div id="sbox2">
                <h2>Recent</h2>
                <ul>
                    
                        <li><a href="/posts/2013-12-04_Regression-testing-with-Sherlock.html">Regression testing with Sherlock</a></li>
                    
                        <li><a href="/posts/2013-12-04_Nuclei-Release-V0700.html">Nuclei release - V0.7.0.0</a></li>
                    
                        <li><a href="/posts/2013-12-03_Setting-up-nAnicitus.html">Setting up nAnicitus</a></li>
                    
                        <li><a href="/projects/apollo.html">Apollo</a></li>
                    
                        <li><a href="/posts/2013-11-19_PG2-Bumpy-air-smooth-air.html">PG2 - Bumpy air, smooth air</a></li>
                    
                        <li><a href="/posts/2013-11-13_NAdoni-Release-V0210.html">nAdoni release - V0.2.1.0</a></li>
                    
                        <li><a href="/posts/2013-11-13_NAdoni-Release-V0200.html">nAdoni release - V0.2.0.0</a></li>
                    
                        <li><a href="/posts/2013-11-11_PG2-Up-and-down-the-coast.html">PG2 - Up and down the coast</a></li>
                    
                        <li><a href="/posts/2013-10-31_nAnicitus-Release-V0130.html">nAnicitus release - V0.1.3.0</a></li>
                    
                        <li><a href="/posts/2013-10-30_Sherlock-Release-V0470.html">Sherlock release - V0.4.7.0</a></li>
                    
                </ul>
            </div>
            <div id="sbox3">
                <h2>Tags</h2>
                
                    <a href="/tags/Blog.html" style="font-size: 108.33333333333333%">
                        Blog
                    </a>
                
                    <a href="/tags/Writing.html" style="font-size: 100%">
                        Writing
                    </a>
                
                    <a href="/tags/Paragliding.html" style="font-size: 121.54135417267631%">
                        Paragliding
                    </a>
                
                    <a href="/tags/PG2.html" style="font-size: 121.54135417267631%">
                        PG2
                    </a>
                
                    <a href="/tags/Sherlock.html" style="font-size: 125%">
                        Sherlock
                    </a>
                
                    <a href="/tags/DocPad.html" style="font-size: 100%">
                        DocPad
                    </a>
                
                    <a href="/tags/GitHub.html" style="font-size: 100%">
                        GitHub
                    </a>
                
                    <a href="/tags/nRefs.html" style="font-size: 100%">
                        nRefs
                    </a>
                
                    <a href="/tags/Nuclei.html" style="font-size: 116.66666666666667%">
                        Nuclei
                    </a>
                
                    <a href="/tags/Climbing.html" style="font-size: 100%">
                        Climbing
                    </a>
                
                    <a href="/tags/Waipapa.html" style="font-size: 100%">
                        Waipapa
                    </a>
                
                    <a href="/tags/nAnicitus.html" style="font-size: 108.33333333333333%">
                        nAnicitus
                    </a>
                
                    <a href="/tags/nAdoni.html" style="font-size: 108.33333333333333%">
                        nAdoni
                    </a>
                
                    <a href="/tags/Symbol-server.html" style="font-size: 100%">
                        Symbol server
                    </a>
                
                    <a href="/tags/SymStore.html" style="font-size: 100%">
                        SymStore
                    </a>
                
                    <a href="/tags/PDB.html" style="font-size: 100%">
                        PDB
                    </a>
                
                    <a href="/tags/Regression-test.html" style="font-size: 100%">
                        Regression test
                    </a>
                
            </div>
        </div>
        <div id="content">
            <div id="posts">
    <h3 id="post-tags-header">Posts tagged with: Sherlock</h3>
    
        <div id="post-spacer">
            <div id="post">
    <div id="post-header">
        <h2>
            
                <a href='/posts/2013-12-04_Regression-testing-with-Sherlock.html'>Regression testing with Sherlock</a>
            
        </h2>
        <div id="post-meta">
            <p>
                Wednesday, December 04, 2013 | Posted in
                
                    <a id="post-category" href="/tags/Sherlock.html">Sherlock</a>
                
                    <a id="post-category" href="/tags/Regression test.html">Regression test</a>
                
            </p>
        </div>
    </div>
    <div id="post-content">
        <p>Over a series of posts I hope to explain how to set up and use the <a href="/projects/sherlock.html">Sherlock</a> test environment system. The idea is to follow the set up procedure I used both at home for the <a href="/projects/apollo.html">Apollo</a> project and the proof of concept I am working on at my work place. But first lets start with a short explanation of what Sherlock is and what it does. </p>
<h3>What is Sherlock</h3>
<p>Sherlock consists of a set of applications and services that provide test environment organisation and automatic execution of a set of tests on one or more test environments. The organisation part consists of:</p>
<ul>
<li>Keeping track of which environments exist, which are available for testing and which are not, e.g. for maintenance reasons.</li>
<li>What operating system is loaded onto each environment.</li>
<li>Which applications are pre-loaded onto each environment.</li>
<li>Relationships between virtual machines and their (physical) host machine. </li>
</ul>
<p>The test execution part consists of:</p>
<ul>
<li>Selection of the most suitable environment for a test based on the desired combination of operating system and available applications.</li>
<li>Preparing of the environment for test. This includes loading test environments, i.e. waking up physical test environments through the <a href="http://en.wikipedia.org/wiki/Wake-on-LAN">Wake-on-LAN</a> approach and starting virtual machines, and sending over the test data, e.g. installer files.</li>
<li>Triggering test execution on the active test environment.</li>
<li>Processing test status and test report information.</li>
<li>Post test environment clean-up. This currently only includes resetting virtual machine disks back to the pre-test state.</li>
<li>Accumulation of test events and generation of the final test report.</li>
</ul>
<p>In general the Sherlock system will consist of at least one <a href="http://en.wikipedia.org/wiki/Hyper-V">Hyper-V</a> host machine and a set of one or more Hyper-V virtual machines. In this arrangement the host machine handles the test organisation and part of the test execution, while the virtual machines serve as test environments. </p>
<p>While it is possible for Sherlock to execute tests on physical machines it is advised to only execute on virtual machines because of the inability to reset a physical machine back to the pre-test state. Virtual machines on the other hand can easily be restored to the pre-test state through the use of snapshots.</p>
<h3>The life of a test</h3>
<p>When executing a test with Sherlock the following steps are present: </p>
<ol>
<li>The user creates a test configuration file which describes all requirements for the test environment, which steps should be executed and where the report should be placed.</li>
<li>The user registers the test with Sherlock via the console application.</li>
<li>Some time after the registration of the test completed the Sherlock host service loads test information and selects one or more suitable environments to execute the test steps on. The time between the completion of the test registration and the starting of the test execution depends on whether suitable test environments are available and how busy they are.</li>
<li>The selected test environments are prepared for the test execution. This preparation includes activating the environment and transferring the test data for each environment (e.g. installer files etc.).</li>
<li>Each environment executes the desired test steps and reports back on the success or failure of each test step.</li>
<li>Once an environment has completed its test steps it will report the completion the test, upon which the host service will terminate the environment and restore it to the original state.</li>
<li>Once all environments have completed their test steps the test is marked as completed and the test report is compiled and placed in the predetermined location.  </li>
</ol>
<h3>Planned posts:</h3>
<p>The next following posts will describe:</p>
<ol>
<li>How to set up the Hyper-V host machine.</li>
<li>How to prepare a virtual machine for use as a testing environment.</li>
<li>How to verify that all the environments have been configured correctly.</li>
<li>How to integrate with a build server. This will discuss build jobs, build scripts and test configuration.</li>
<li>A description on how I used Sherlock to perform integration tests on the console application of Apollo.</li>
<li>And a description on how I used Sherlock to perform integration tests on a WPF application of Apollo.</li>
</ol>
 
    </div>
</div>
        </div>
    
        <div id="post-spacer">
            <div id="post">
    <div id="post-header">
        <h2>
            
                <a href='/posts/2013-10-30_Sherlock-Release-V0470.html'>Sherlock release - V0.4.7.0</a>
            
        </h2>
        <div id="post-meta">
            <p>
                Wednesday, October 30, 2013 | Posted in
                
                    <a id="post-category" href="/tags/Sherlock.html">Sherlock</a>
                
            </p>
        </div>
    </div>
    <div id="post-content">
        <p>Version <a href="https://github.com/pvandervelde/Sherlock/releases/tag/v0.4.7.0">V0.4.7.0</a> of the <a href="/projects/sherlock.html">Sherlock</a> regression testing application has been released. This release provides one bug fix:</p>
<ul>
<li>The Windows job object created by the Sherlock service to ensure termination of the Sherlock.Service.Master and Sherlock.Service.Executor applications is now set to only include direct children (i.e. Sherlock.Service.Master / Sherlock.Service.Executor) in the job and not the indirect children. This allows the application under test to create its own job objects even on Windows 7 (which does not allow nesting of job objects) (<a href="https://github.com/pvandervelde/Sherlock/issues/11">issue #11</a>).</li>
</ul>
 
    </div>
</div>
        </div>
    
        <div id="post-spacer">
            <div id="post">
    <div id="post-header">
        <h2>
            
                <a href='/posts/2013-10-24_Sherlock-Release-V0460.html'>Sherlock release - V0.4.6.0</a>
            
        </h2>
        <div id="post-meta">
            <p>
                Thursday, October 24, 2013 | Posted in
                
                    <a id="post-category" href="/tags/Sherlock.html">Sherlock</a>
                
            </p>
        </div>
    </div>
    <div id="post-content">
        <p>Version <a href="https://github.com/pvandervelde/Sherlock/releases/tag/v0.4.6.0">V0.4.6.0</a> of the <a href="/projects/sherlock.html">Sherlock</a> regression testing application has been released. This release provides two bug fixes:</p>
<ul>
<li>The MSI installer now verifies that all directories exist before writing to them (<a href="https://github.com/pvandervelde/Sherlock/issues/9">issue #9</a>)</li>
<li>The X-copy installer now verifies that the destination directory exists before copying files to it (<a href="https://github.com/pvandervelde/Sherlock/issues/10">issue #10</a>)</li>
</ul>
 
    </div>
</div>
        </div>
    
        <div id="post-spacer">
            <div id="post">
    <div id="post-header">
        <h2>
            
                <a href='/posts/2013-10-23_Sherlock-Release-V0450.html'>Sherlock release - V0.4.5.0</a>
            
        </h2>
        <div id="post-meta">
            <p>
                Wednesday, October 23, 2013 | Posted in
                
                    <a id="post-category" href="/tags/Sherlock.html">Sherlock</a>
                
            </p>
        </div>
    </div>
    <div id="post-content">
        <p>Version <a href="https://github.com/pvandervelde/Sherlock/releases/tag/v0.4.5.0">V0.4.5.0</a> of the <a href="/projects/sherlock.html">Sherlock</a> regression testing application has been released. This release provides one improvement and one bug fix:</p>
<ul>
<li>The test report can now include files generated during the test (<a href="https://github.com/pvandervelde/Sherlock/issues/5">issue #5</a>)</li>
<li>Sherlock.Service no longer includes a manifest signing key, instead the key is obtained via a configuration setting (<a href="https://github.com/pvandervelde/Sherlock/issues/8">issue #8</a>)</li>
</ul>
 
    </div>
</div>
        </div>
    
        <div id="post-spacer">
            <div id="post">
    <div id="post-header">
        <h2>
            
                <a href='/posts/2013-09-21_Sherlock-Release-v0440.html'>Sherlock release - V0.4.4.0</a>
            
        </h2>
        <div id="post-meta">
            <p>
                Saturday, September 21, 2013 | Posted in
                
                    <a id="post-category" href="/tags/Sherlock.html">Sherlock</a>
                
            </p>
        </div>
    </div>
    <div id="post-content">
        <p>Version <a href="https://github.com/pvandervelde/Sherlock/releases/tag/v0.4.4.0">V0.4.4.0</a> of the <a href="/projects/sherlock.html">Sherlock</a> regression testing application has been released. This release provides two improvements:</p>
<ul>
<li>The test output now includes an XML report with all the messages and an indication of test success or failure.</li>
<li>Removed the Test data directory settings from the web service because test packages are now always dropped in the App_Data directory</li>
</ul>
 
    </div>
</div>
        </div>
    
        <div id="post-spacer">
            <div id="post">
    <div id="post-header">
        <h2>
            
                <a href='/posts/2013-09-14_Sherlock-Release-v0430.html'>Sherlock release - V0.4.3.0</a>
            
        </h2>
        <div id="post-meta">
            <p>
                Saturday, September 14, 2013 | Posted in
                
                    <a id="post-category" href="/tags/Sherlock.html">Sherlock</a>
                
            </p>
        </div>
    </div>
    <div id="post-content">
        <p>Version <a href="https://github.com/pvandervelde/Sherlock/releases/tag/v0.4.3.0">V0.4.3.0</a> of the <a href="/projects/sherlock.html">Sherlock</a> regression testing application has been released. This release provides several bug fixes for:</p>
<ul>
<li>The console application: Changed the way the REST URLs are constructed so that it works if the web service on a sub-part of a domain, e.g. <code>http://myserver/sherlock</code> works now</li>
<li>The web service: Added Trace.Write statements for ease of debugging</li>
<li>The windows service: Fixed a dead-lock bug in the shut-down process and linked all processes via a Windows Job Object to ensure that all child processes are terminated if the service is terminated.</li>
</ul>
 
    </div>
</div>
        </div>
    
        <div id="post-spacer">
            <div id="post">
    <div id="post-header">
        <h2>
            
                <a href='/posts/2013-09-11_Sherlock-Release-v0420.html'>Sherlock release - V0.4.2.0</a>
            
        </h2>
        <div id="post-meta">
            <p>
                Wednesday, September 11, 2013 | Posted in
                
                    <a id="post-category" href="/tags/Sherlock.html">Sherlock</a>
                
            </p>
        </div>
    </div>
    <div id="post-content">
        <p>Version <a href="https://github.com/pvandervelde/Sherlock/releases/tag/v0.4.2.0">V0.4.2.0</a> of the <a href="/projects/sherlock.html">Sherlock</a> regression testing application has been released. This release adds one bug fix and one improvement.</p>
<p>The bug fix is a change to the <code>IsHyperVMachine</code> and <code>IsPhysicalMachine</code> stored procedures in order to make them easier to use correctly.</p>
<p>The improvement is the addition of build steps that package the web projects into a ZIP file for easier deployment. These zip files can now also be retrieved from the <a href="https://github.com/pvandervelde/Sherlock/releases/tag/v0.4.2.0">release note</a></p>
 
    </div>
</div>
        </div>
    
        <div id="post-spacer">
            <div id="post">
    <div id="post-header">
        <h2>
            
                <a href='/posts/2013-09-08_Sherlock-Release-v0401.html'>Sherlock release - V0.4.0.1</a>
            
        </h2>
        <div id="post-meta">
            <p>
                Sunday, September 08, 2013 | Posted in
                
                    <a id="post-category" href="/tags/Sherlock.html">Sherlock</a>
                
            </p>
        </div>
    </div>
    <div id="post-content">
        <p>Version <a href="https://github.com/pvandervelde/Sherlock/releases/tag/v0.4.0.1">V0.4.0.1</a> of the <a href="/projects/sherlock.html">Sherlock</a> regression testing application has been released. This release adds two new features and one improvement.</p>
<p>The new features are:</p>
<ul>
<li>The ability to continue with a test sequence after a test step has failed. The test step should indicate that the failure mode is &#39;continue&#39;. Other option is &#39;stop&#39;</li>
<li>Added a test step that allows executing a console application with a set of input parameters</li>
</ul>
<p>The following gist gives an overview of what the configuration for the new console test step looks like</p>
<script src='https://gist.github.com/6483292.js'></script>

<p>The improvement is in the HTML output report which is has been overhauled to improve the layout and readability.</p>
 
    </div>
</div>
        </div>
    
</div>
        </div>
    </div>
    <div id="footer" class="container">
        <div id="fbox1">
            <h2>Related</h2>

<ul>
    <li id="first"><a href="https://github.com/pvandervelde">GitHub</a></li>
    <li><a href="http://www.linkedin.com/profile/view?id=33950311">LinkedIn</a></li>
    <li><a href="http://stackoverflow.com/users/539846/petrik">StackOverflow</a></li>
    <li><a href="http://careers.stackoverflow.com/pvandervelde">StackOverflow Careers</a></li>
</ul>
        </div>
        <div id="fbox2">
            <h2>Copyright</h2>
<p>Copyright (c) 2013 <a href="http://pvandervelde.github.io">http://pvandervelde.github.io</a>. All rights reserved.</p>
<h2>Disclaimer</h2>
<p>The opinions expressed herein are my own personal opinions and do not represent my employer&#39;s view in any way.</p>

        </div>
        <div id="fbox3">
            <h2>Media</h2>
<p><a href="/atom.xml"><img src="/images/feed.png" alt="Atom feed"></a></p>

        </div>
    </div>
    <div id="copyright" class="container">
        <p>
            Site design based on the <a href="http://www.freecsstemplates.org/previews/opentools/">Open Tools</a> design 
            by <a href="http://www.freecsstemplates.org">FreeCSSTemplates.org</a>. Feed icon by <a href="http://www.icojam.com/">Icojam</a>.
        </p>
        <p>Generated by <a href="http://docpad.org/" rel="nofollow">DocPad</a> on Wednesday, December 04, 2013.</p>
    </div>

    <!-- jQuery -->
    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.8.2/jquery.min.js"></script>
    <script>window.jQuery || document.write('<script src="/vendor/jquery.js"><\/script>')</script>

    <!-- DocPad Scripts + Our Own -->
    <script >(function(){
	/* Did we just livereload? */
var log = !!(localStorage && console && console.log && true);
if ( log && localStorage.getItem('/docpad-livereload/reloaded') === 'yes' ) {
	localStorage.removeItem('/docpad-livereload/reloaded');
	console.log('LiveReload completed at', new Date())
}

/* Listen for the regenerated event and perform a reload of the page when the event occurs */
var listen = function(){
	var primus = new Primus('/docpad-livereload');
	primus.on('data', function(data){
		if ( data && data.message ) {
			if ( data.message === 'generateBefore' ) {
				if ( log ) {
					console.log('LiveReload started at', new Date());
				}
				if ( typeof document.getElementsByTagName !== 'undefined' ) {
	document.getElementsByTagName('html')[0].className += ' wait';
}
			}
			else if ( data.message === 'generateAfter' ) {
				if ( log ) {
					localStorage.setItem('/docpad-livereload/reloaded', 'yes');
				}
				document.location.reload();
			}
		}
	});
};
	/* Inject socket into our page */
var inject = function(){
	var t = document.createElement('script');
	t.type = 'text/javascript';
	t.async = 'async';
	t.src = '/primus/primus.js';
	t.onload = listen;
	var s = document.getElementsByTagName('script')[0];
	s.parentNode.insertBefore(t, s);
};
	if ( typeof Primus !== 'undefined' ) {
		listen();
	} else {
		inject();
	}
})();</script><script defer="defer"  src="/vendor/log.js"></script><script defer="defer"  src="/vendor/modernizr.js"></script><script defer="defer"  src="/scripts/script.js"></script>
</body>
</html>
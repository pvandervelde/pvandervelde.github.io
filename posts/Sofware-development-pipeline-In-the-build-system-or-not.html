
<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=Edge"/>

        <title>Mind vortex - Software development pipeline - In the build system or not</title>
        <meta name="description" content="Welcome!" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0">

        <link type="application/rss+xml" rel="alternate" title="Mind vortex" href="/feed.rss" />
        <link type="application/atom+xml" rel="alternate" title="Mind vortex" href="/feed.atom" />
        <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
        <link rel="icon" href="/favicon.ico" type="image/x-icon">

        <link href="/assets/css/normalize.css" rel="stylesheet" />
        <link href="/assets/css/h5bp.css" rel="stylesheet">
        <link href="/assets/css/font-awesome.min.css" rel="stylesheet" type="text/css">
        <link href='//fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic' rel='stylesheet' type='text/css'>
        <link href='//fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800' rel='stylesheet' type='text/css'>
        <link href="https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,300;0,400;0,500;0,700;0,900;1,300;1,400;1,500;1,700;1,900&display=swap" rel="stylesheet">
        <link href="https://fonts.googleapis.com/css2?family=Lato:ital,wght@0,300;0,400;0,700;0,900;1,300;1,400;1,700;1,900&display=swap" rel="stylesheet">
        <link href="/assets/css/override.css" rel="stylesheet" />
        <link href="/assets/css/github.css" rel="stylesheet" type="text/css">


        <meta name="application-name" content="Mind vortex" />
        <meta name="msapplication-tooltip" content="Mind vortex" />
        <meta name="msapplication-starturl" content="/" />

        <meta property="og:title" content="Mind vortex - Software development pipeline - In the build system or not" />
        <meta property="og:type" content="website" />
        <meta property="og:url" content="https://www.petrikvandervelde.nl/posts/Sofware-development-pipeline-In-the-build-system-or-not" />
        <!-- TODO: More social graph meta tags -->

        <script src="/assets/js/jquery.min.js"></script>
        <script src="/assets/js/bootstrap.min.js"></script>
        <script src="/assets/js/highlight.pack.js"></script>
        <script src="/assets/js/clean-blog.js"></script>
        <script src="/assets/js/d3.v3.min.js"></script>
        <script src="/assets/js/trianglify.min.js"></script>
        <script src="/assets/js/Please-compressed.js"></script>

        <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
        <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
        <!--[if lt IE 9]>
                <script src="/assets/js/html5shiv.js"></script>
                <script src="/assets/js/respond.min.js"></script>
        <![endif]-->

        <!-- Our scripts -->
<script src="/assets/js/script.js"></script>

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-DV643VJGFT"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-DV643VJGFT');
</script>


    </head>
    <body>
        <!--[if lt IE 7]>
            <p class="chromeframe">You are using an outdated browser. <a href="http://browsehappy.com/">Upgrade your browser today</a> or <a href="http://www.google.com/chromeframe/?redirect=true">install Google Chrome Frame</a> to better experience this site.</p>
        <![endif]-->
        <div id="header" class="container">
            <div id="logo">
                <h1><a href="/">Mind vortex</a></h1>
            </div>
            <div id="menu">
                <ul>
                            <!-- Pages -->
        <!-- BlogPosts -->
        <!-- Tags -->
        <!-- TagIndex -->
        <!-- BlogArchive -->
        <!-- Index -->
        <!-- RenderTagIndex -->
        <!-- RenderTags -->
        <!-- RenderBlogArchive -->
        <!-- Feed -->
        <!-- RenderBlogPosts -->
    <!-- Context.Documents['Pages'] -->
        <!-- 404 Not Found - False - /404 -->
        <!-- About - True - /about -->
        <!-- Calvinverse - False - /projects/calvinverse -->
        <!-- nBuildKit - False - /projects/nbuildkit -->
        <!-- Projects - True - /projects -->
        <!-- Scuttle - False - /projects/scuttle -->
            <li class="inactive" >
                <a href="/">Home</a>
            </li>
            <li class="inactive" >
                <a href="/projects">Projects</a>
            </li>
            <li class="inactive" >
                <a href="/posts">Archive</a>
            </li>
            <li class="inactive" >
                <a href="/tags">Tags</a>
            </li>
            <li class="inactive" >
                <a href="/about">About</a>
            </li>

                </ul>
            </div>
        </div>

        <div id="page" class="container">
            <div id="sidebar">
                <div id="sbox1">
                    <h2>Patrick van der Velde</h2>

<p>
    <img src="https://www.gravatar.com/avatar/9bc8b3ff385cd14f2b12138c97729df2?s=160" alt="Gravatar for Patrick van der Velde">
</p>
<p>
    Dutch software developer who is living, working and playing in New Zealand.
    Rock climber and paragliding pilot. Developer of
    <a href="https://nbuildkit.github.io/nBuildKit.MsBuild/">nBuildKit</a>,
    <a href="https://github.com/Calvinverse">the Calvinverse resources</a> and other projects.
</p>
<p>
    <a href="/about.html">More ...</a>
</p>

                </div>
                <div id="sbox2">
                    <h2>Recent</h2>
                    <ul class="list-unstyled">
                            <li><a href="/posts/Robotics-a-bumper-for-scuttle-overview">Starting robotics - Building a bumper for scuttle. The overview</a></li>
                            <li><a href="/posts/Robotics-driving-scuttle-with-ros-gazebo-simulation">Starting robotics - Driving scuttle with ROS - Gazebo simulation</a></li>
                            <li><a href="/posts/Robotics-learning-ros">Starting robotics - Learning Robot Operating System (ROS)</a></li>
                            <li><a href="/posts/Starting-robotics-with-scuttle">Starting robotics with the SCUTTLE robot</a></li>
                            <li><a href="/posts/Building-autonomous-mobile-robot-why">Building an autonomous mobile robot - But why?</a></li>
                            <li><a href="/posts/Software-development-pipeline-security">Software development pipeline - Security</a></li>
                            <li><a href="/posts/Software-development-pipeline-infrastructure-dependency-reduction">Software development pipeline - Infrastructure dependency reduction</a></li>
                            <li><a href="/posts/Calvinverse-an-example-build-infrastructure">Calvinverse - An example build infrastructure</a></li>
                            <li><a href="/posts/On-prem-vs-cloud-build-systems">Software development pipeline - On-prem or in the cloud?</a></li>
                            <li><a href="/posts/Software-development-pipeline-considerations-for-infrastructure-improvements">Software development pipeline - Considerations for infrastructure improvements</a></li>
                    </ul>
                </div>
                <div id="sbox3">
                    <h2>Tags</h2>
                    <div>
                        <ul class="list-unstyled">
                                <li>
                                    <a role="button" href="/tags/Sherlock" class="btn btn-default btn-sm"> Sherlock (13)</a>
                                </li>
                                <li>
                                    <a role="button" href="/tags/nBuildKit" class="btn btn-default btn-sm"> nBuildKit (12)</a>
                                </li>
                                <li>
                                    <a role="button" href="/tags/DevOps" class="btn btn-default btn-sm"> DevOps (11)</a>
                                </li>
                                <li>
                                    <a role="button" href="/tags/Delivering-software" class="btn btn-default btn-sm"> Delivering software (11)</a>
                                </li>
                                <li>
                                    <a role="button" href="/tags/Software-development-pipeline" class="btn btn-default btn-sm"> Software development pipeline (11)</a>
                                </li>
                                <li>
                                    <a role="button" href="/tags/Paragliding" class="btn btn-default btn-sm"> Paragliding (9)</a>
                                </li>
                                <li>
                                    <a role="button" href="/tags/PG2" class="btn btn-default btn-sm"> PG2 (9)</a>
                                </li>
                                <li>
                                    <a role="button" href="/tags/Blog" class="btn btn-default btn-sm"> Blog (7)</a>
                                </li>
                                <li>
                                    <a role="button" href="/tags/Pipeline-design" class="btn btn-default btn-sm"> Pipeline design (6)</a>
                                </li>
                                <li>
                                    <a role="button" href="/tags/Nuclei" class="btn btn-default btn-sm"> Nuclei (6)</a>
                                </li>
                        </ul>
                    </div>
                    <br />
                    <ul class="pager">
                        <li class="next">
                            <a href="/tags">View All Tags &rarr;</a>
                        </li>
                    </ul>
                </div>
            </div>

            <div id="content">

<div id="post">
    <div id="post-header">
        <!--
    Model is: Tuple<IDocument, IDocument>.
    The first one is the current document that is being rendered, the second one is the one for which the post header should be rendered.
-->


<h2>
Software development pipeline - In the build system or not</h2>
<div id="post-meta">
    <div class="meta-date">
Monday, December 3, 2018
 |             Posted in     </div>
    <div class="meta-tags">
                        <a id="post-category" role="button" href="/tags/Delivering-software" class="btn btn-default btn-xs tag-no-wrap">Delivering&nbsp;software</a>
                        <a id="post-category" role="button" href="/tags/DevOps" class="btn btn-default btn-xs tag-no-wrap">DevOps</a>
                        <a id="post-category" role="button" href="/tags/Pipeline-design" class="btn btn-default btn-xs tag-no-wrap">Pipeline&nbsp;design</a>
                        <a id="post-category" role="button" href="/tags/Software-development-pipeline" class="btn btn-default btn-xs tag-no-wrap">Software&nbsp;development&nbsp;pipeline</a>
    </div>
</div>

    </div>

    <div id="post-content">
        <p>Over the last few years the use of build pipelines has been gaining traction backed by the ever growing
use of Continuous Integration (CI) and Continuous Delivery and Deployment (CD) processes. By using a
build pipeline the development team get benefits like being able to execute parts of the build, test,
release and deployment processes in parallel, being able to restart the process part way through
in case of environmental issues, and vastly improved feedback cycles which improve the velocity
at which features can be delivered to the customer.</p>
<p>Most modern build systems have the ability to create a build pipelines in one form or another, e.g.
<a href="https://docs.microsoft.com/en-us/azure/devops/pipelines/get-started/what-is-azure-pipelines?toc=/azure/devops/pipelines/toc.json&amp;bc=/azure/devops/boards/pipelines/breadcrumb/toc.json&amp;view=vsts">VSTS / Azure Devops builds</a>,
<a href="https://jenkins.io/solutions/pipeline/">Jenkins pipeline</a>,
<a href="https://docs.gitlab.com/ee/ci/pipelines.html">GitLab</a>, <a href="https://bitbucket.org/product/features/pipelines">BitBucket</a>
and <a href="https://confluence.jetbrains.com/display/TCD18/Build+Chain">TeamCity</a>. With these capabilities
built into the build system it is easy for developers to quickly create a new pipeline from scratch.
While this is quick and easy often the pipeline for a product is created by the development team
without considering if this is the best way to achieve their goal, which is to deliver their product
faster with higher quality. Before using the built-in pipeline capability in the build system the second
question a development team should ask is when should one use this ability and when should one not
use this ability? Obviously the first question is, do we need a pipeline at all, which is a question
for another post.</p>
<p>The advantages of creating a pipeline in your build system are:</p>
<ul>
<li>It is easy to quickly create pipelines. Either the is a click and point UI of some form or the
pipeline is defined by a, relatively, simple configuration file. This means that a development
team can configure a new build pipeline quickly when one is desired.</li>
<li>Pipelines created in a build system can often use multiple build executors or have a job move
from one executor to another if different capabilities are required for a new step, for instance
if different steps in the pipeline need different operating systems to be executed.</li>
<li>In many cases, but not all, the build system provides a way for humans to interact with a running
pipeline, for instance to approve the continuation of the pipeline in case of deployments or
to mark a manual test phase as passed or failed.</li>
<li>If the configuration of the pipeline is stored in a file it can generally be stored in a source
control system, thus providing all the benefits of using a source control system. In these cases
the build system can generally update the build configurations in response to a commit / push
notification from the version control system. Thus ensuring that the active build configuration
is always up to date.</li>
<li>The development team has nearly complete control over the build configuration which ensures that
it is easy for the development teams to have a pipeline that suits their needs.</li>
</ul>
<p>Based on the advantages of having a pipeline in the build system it seems pretty straight forward to
say that having the pipeline in the build system is a good thing. However as with all things there
are also drawbacks to having the pipeline in the build system.</p>
<ul>
<li><p>Having the pipeline in the build system makes some assumptions that may not be correct in certain
cases.</p>
<ul>
<li>The first assumption is that the build system is the centre of all the work being done
because the pipeline is controlled by the build system, thus requiring that all actions feed back
into said build system. This however shouldn't be a given, after all why would the build system
be the core system and not the source control system or the issue tracker. In reality all systems
are required to deliver high quality software. This means in most cases that none of these systems
have enough knowledge by themselves to make decisions about the complete state of the pipeline.
By making the assumption that the build system is at the core of the pipeline the result will
be that the knowledge of the pipeline work flow will end up being encoded in the build configurations
and the build scripts. For simple pipelines this is a sensible thing to do but as the pipeline
gets more complex this approach will be sub-optimal at best and more likely detrimental due to
the complexity of providing all users with the overview of how the pipeline functions.</li>
<li>The second, but potentially more important, assumption is that the item the development teams
care most about is &lsquo;build&rsquo; or 'build job'. This however is not the case most of the time because
a &lsquo;build&rsquo; is just a way to create or alter an artefact, i.e. the package, container, installer
etc.. It is artefacts that people care about most because artefacts are the carrying vehicle
for the features and bug fixes that the customer cares about. From this perspective it makes
sense to track the artefacts instead of builds because the artefact flows through the entire pipeline
while builds are only part of the pipeline.</li>
<li>A third assumption is that every task can somehow be run through the build system, but this is
not always the case and even when it is possible it is not necessarily sensible. For instance
builds and deploys are fundamentally different things, one should be repeatable (builds) and
can just be stopped on failure and restarted if necessary and the other is often not exactly
repeatable (because artefacts can only be moved from a location once etc.) and should often
not just be stopped (but rolled-back or not &lsquo;committed&rsquo;). Another example is long running tests
for which the results may be fed back into the build system if required but that doesn't
necessarily make sense.</li>
</ul>
</li>
<li><p>If the build system is the the centre of the pipeline then that means that the build system has to
start storing persistent data about the state of the pipeline with all the issues that come with this
kind of data, for instance:</p>
<ul>
<li>The data stored in the pipeline is valuable to the development team both at the current time and
in the future when the development team needs to determine where an artefact comes from. This means
that the data potentially needs to be kept safe for much longer than build information is
normally kept. In order to achieve this the standard data protection rules apply for instance
access controls and backups.</li>
<li>The information about the pipeline needs to be easily accessible and changeable both by the build
system and by systems external to the build system. It should be possible to add additional
information, e.g. the versions / names of artefacts created by a build. The status of the artefact
as it progresses through the pipeline etc.. All this information is important either during the
pipeline process or after the artefacts have been delivered to the customer. Often build
systems don't have this capability, they store just enough information that they can do what
they need to do, and in general they are not database systems (and if they are it is recommended
that you don't tinker with them and in general it is made difficult to append or add information).</li>
<li>Build systems work much better if they are immutable, i.e. created from standard components (e.g.
controller and agents) with automatically generated build jobs (more about the reasons both of
these will follow in future posts). This allows a build system to be expanded or replaced really
easily (<a href="https://medium.com/&#64;Joachim8675309/devops-concepts-pets-vs-cattle-2380b5aab313">cattle not pets</a>
even for build systems). That is much harder if the build system is the core of your pipeline
and stores all the data for it.</li>
</ul>
</li>
<li><p>Having the pipeline in the build system in general provides more control for the development teams,
which is a great benefit, but less control for the administrators. Because the pipeline provides the
development teams with all the abilities there is, in general, less ability for the admins to guide
things in the right direction or to block developers from doing things that they shouldn't be doing
or have access to. While this may seem to be a benefit for the developers, no more annoying admins
getting in the way, it is in fact a drawback because this behaviour means that the developers take
on the responsibility to administer some or all of the underlying build system. Examples of the
change of control are for instance in the Jenkins pipeline it is possible for developers to use
all the credentials that Jenkins has access to. However this might not be desirable for high power
credentials or credentials for highly restricted resources. An other example is that the selection
of the build executor is done in the pipeline configuration, however in some cases it may make sense
to limit access to executors, after all having a build that can migrate from node to node makes
sense in some cases but it's not free. Further the ease with which parallel steps can be created will
lead to many parallel jobs. This might be great for one pipeline but isn't necessarily the best for
the overall system. In some cases serializing the steps for a single pipeline can lead to greater
overall throughput if there are many different jobs for many different teams.</p>
</li>
</ul>
<p>Based on all the advantages and disadvantages that are listed here it may be difficult to decide whether
or not a development team should use the pipeline in their build system or not. In general it will be
sensible to use the pipeline capabilities that are build into your build system in cases where you either
have a fairly simple pipeline that is easy to reason about or where no external systems need to interact
with the data in the pipeline.</p>
<p>Once the pipeline gets more complicated, external systems need access to the metadata describing the
pipeline or the pipeline gets stages that are incompatible with being executed by a build system it
will be time to migrate to a different approach to the build and deployment pipeline. In this case
it is worth it to develop some custom software that tracks artefacts through the pipeline. This makes
it possible to treat the pipeline system as the critical infrastructure that it is, with the appropriate
separation of data and business rule processing, data security and controlled access to the data for
external systems.</p>

    </div>

    <div id="post-footer">
        <div>
    <div class="navlinks">
                <a href="/posts/Software-development-pipeline-Design-flexibility" title="Previous Post: Software development pipeline - Design flexibility" class="navlinks-prev">« Software development pipeline - Design flexibility</a>
                <a href="/posts/Software-development-pipeline-considerations-for-infrastructure-improvements" title="Next Post: Software development pipeline - Considerations for infrastructure improvements" class="navlinks-next">Software development pipeline - Considerations for infrastructure improvements »</a>
    </div>
</div>
<div id="disqus_thread"></div>
<script type="text/javascript">
    /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
    var disqus_shortname = 'mindvortex'; // required: replace example with your forum shortname
    var disqus_identifier = 'Sofware-development-pipeline-In-the-build-system-or-not';
    var disqus_title = 'Software development pipeline - In the build system or not';
    var disqus_url = 'https://www.petrikvandervelde.nl/posts/Sofware-development-pipeline-In-the-build-system-or-not';

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();

    (function () {
        var s = document.createElement('script'); s.async = true;
        s.type = 'text/javascript';
        s.src = '//' + disqus_shortname + '.disqus.com/count.js';
        (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
    }());
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>

    </div>
</div>







            </div>
        </div>

        <footer>
            <div id="footer" class="container">
    <div id="fbox1">
        <h2>Related</h2>
        <ul>
            <li><a href="https://github.com/pvandervelde"><i class="fa fa-github"></i> GitHub</a></li>
            <li><a href="https://www.linkedin.com/profile/view?id=33950311"><i class="fa fa-linkedin"></i> LinkedIn</a></li>
            <li><a href="https://stackoverflow.com/users/539846/petrik"><i class="fa fa-stack-overflow"></i> StackOverflow</a></li>
            <li><a href="https://careers.stackoverflow.com/pvandervelde"><i class="fa fa-stack-overflow"></i> StackOverflow Careers</a></li>
            <li><a href="https://profile.codersrank.io/user/pvandervelde">CodersRank</a></li>
        </ul>
    </div>
    <div id="fbox2">
        <h2 id="copyright">Copyright</h2>
        <p>Copyright (c) 2022 <a href="/">Petrik van der Velde</a>. All rights reserved.</p>

        <h2 id="disclaimer">Disclaimer</h2>
        <p>The opinions expressed herein are my own personal opinions and do not represent my employer's view in any way.</p>
    </div>
    <div id="fbox3">
        <h2 id="media">Media</h2>
        <p><a href="/feed.atom"><img src="/assets/images/feed.png" alt="Atom feed"></a></p>
    </div>
</div>
<div id="copyright" class="container">
    <div>
        <p>
            Generated by <a href="https://wyam.io">Wyam</a> on Sat, 27 Aug 2022 00:43:53 GMT

 from commit <a href="https://github.com/pvandervelde/mindvortex/tree/35a3bdf6c1a9fbdd88569188cac65f4da16fd1cd">35a3bdf6c1a9fbdd88569188cac65f4da16fd1cd</a> at version 3.8.0.        </p>
    </div>

    <p>
        Site design based on the <a href="https://www.freecsstemplates.org/previews/opentools/">Open Tools</a> design
        by <a href="https://www.freecsstemplates.org">FreeCSSTemplates.org</a>.
    </p>
    <p>
        Feed icon by <a href="https://www.icojam.com/">Icojam</a> and Favicon by
        <a href="https://www.flaticon.com/free-icon/twister-sky-wind_12318" title="Yannick">Yannick</a>
        from <a href="https://www.flaticon.com" title="Flaticon">www.flaticon.com</a>
    </p>
</div>

        </footer>
    </body>
</html>

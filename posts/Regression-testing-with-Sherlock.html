
<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=Edge"/>

        <title>Mind vortex - Regression testing with Sherlock</title>
        <meta name="description" content="Welcome!" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0">

        <link type="application/rss+xml" rel="alternate" title="Mind vortex" href="/feed.rss" />
        <link type="application/atom+xml" rel="alternate" title="Mind vortex" href="/feed.atom" />
        <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
        <link rel="icon" href="/favicon.ico" type="image/x-icon">

        <link href="/assets/css/normalize.css" rel="stylesheet" />
        <link href="/assets/css/h5bp.css" rel="stylesheet">
        <link href="/assets/css/font-awesome.min.css" rel="stylesheet" type="text/css">
        <link href='//fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic' rel='stylesheet' type='text/css'>
        <link href='//fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800' rel='stylesheet' type='text/css'>
        <link href="/assets/css/override.css" rel="stylesheet" />
        <link href="/assets/css/github.css" rel="stylesheet" type="text/css">


        <meta name="application-name" content="Mind vortex" />
        <meta name="msapplication-tooltip" content="Mind vortex" />
        <meta name="msapplication-starturl" content="/" />

        <meta property="og:title" content="Mind vortex - Regression testing with Sherlock" />
        <meta property="og:type" content="website" />
        <meta property="og:url" content="https://www.petrikvandervelde.nl/posts/Regression-testing-with-Sherlock" />
        <!-- TODO: More social graph meta tags -->

        <script src="/assets/js/jquery.min.js"></script>
        <script src="/assets/js/bootstrap.min.js"></script>
        <script src="/assets/js/highlight.pack.js"></script>
        <script src="/assets/js/clean-blog.js"></script>
        <script src="/assets/js/d3.v3.min.js"></script>
        <script src="/assets/js/trianglify.min.js"></script>
        <script src="/assets/js/Please-compressed.js"></script>

        <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
        <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
        <!--[if lt IE 9]>
                <script src="/assets/js/html5shiv.js"></script>
                <script src="/assets/js/respond.min.js"></script>
        <![endif]-->

        <!-- Our scripts -->
<script src="/assets/js/script.js"></script>

<script async src="https://www.googletagmanager.com/gtag/js?id=UA-46605109-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments)};
  gtag('js', new Date());

  gtag('config', 'UA-46605109-1');
</script>


    </head>
    <body>
        <!--[if lt IE 7]>
            <p class="chromeframe">You are using an outdated browser. <a href="http://browsehappy.com/">Upgrade your browser today</a> or <a href="http://www.google.com/chromeframe/?redirect=true">install Google Chrome Frame</a> to better experience this site.</p>
        <![endif]-->
        <div id="header" class="container">
            <div id="logo">
                <h1><a href="/">Mind vortex</a></h1>
            </div>
            <div id="menu">
                <ul>
                                <li class="inactive" >
                <a href="/">Home</a>
            </li>
            <li class="inactive" >
                <a href="/projects">Projects</a>
            </li>
            <li class="inactive" >
                <a href="/posts">Archive</a>
            </li>
            <li class="inactive" >
                <a href="/about">About</a>
            </li>

                </ul>
            </div>
        </div>

        <div id="page" class="container">
            <div id="sidebar">
                <div id="sbox1">
                    <h2>Patrick van der Velde</h2>

<p>
    <img src="https://www.gravatar.com/avatar/9bc8b3ff385cd14f2b12138c97729df2?s=160" alt="Gravatar for Patrick van der Velde">
</p>
<p>
    Dutch software developer, living, working and playing in New Zealand.
    Rock climber, and paragliding pilot. Developer of
    <a href="https://nbuildkit.github.io/nBuildKit.MsBuild/">nBuildKit</a>,
    <a href="https://github.com/Calvinverse">the Calvinverse resources</a> and other projects
</p>
<p>
    <a href="/about.html">More ...</a>
</p>

                </div>
                <div id="sbox2">
                    <h2>Recent</h2>
                    <ul class="list-unstyled">
                            <li><a href="/posts/Calvinverse-an-example-build-infrastructure">Calvinverse - An example build infrastructure</a></li>
                            <li><a href="/posts/On-prem-vs-cloud-build-systems">Software development pipeline - On-prem or in the cloud?</a></li>
                            <li><a href="/posts/Software-development-pipeline-considerations-for-infrastructure-improvements">Software development pipeline - Considerations for infrastructure improvements</a></li>
                            <li><a href="/posts/Sofware-development-pipeline-In-the-build-system-or-not">Software development pipeline - In the build system or not</a></li>
                            <li><a href="/posts/Software-development-pipeline-Design-flexibility">Software development pipeline - Design flexibility</a></li>
                            <li><a href="/posts/Software-development-pipeline-Design-resilience">Software development pipeline - Design resilience</a></li>
                            <li><a href="/posts/Software-development-pipeline-Design-performance">Software development pipeline - Design performance</a></li>
                            <li><a href="/posts/Exportable-Linux-virtual-hard-drives-for-hyper-v">Exportable Linux virtual hard-drives for Hyper-V</a></li>
                            <li><a href="/posts/Software-development-pipeline-Design-accuracy">Software development pipeline - Design accuracy</a></li>
                            <li><a href="/posts/nBuildkit-Release-V0102">nBuildKit release - V0.10.2</a></li>
                    </ul>
                </div>
                <div id="sbox3">
                    <h2>Tags</h2>
                    <div>
                        <ul class="list-unstyled">
                                <li>
                                    <a role="button" href="/tags/sherlock" class="btn btn-default btn-sm"> Sherlock (13)</a>
                                </li>
                                <li>
                                    <a role="button" href="/tags/nbuildkit" class="btn btn-default btn-sm"> nBuildKit (12)</a>
                                </li>
                                <li>
                                    <a role="button" href="/tags/paragliding" class="btn btn-default btn-sm"> Paragliding (9)</a>
                                </li>
                                <li>
                                    <a role="button" href="/tags/delivering-software" class="btn btn-default btn-sm"> Delivering software (9)</a>
                                </li>
                                <li>
                                    <a role="button" href="/tags/software-development-pipeline" class="btn btn-default btn-sm"> Software development pipeline (9)</a>
                                </li>
                                <li>
                                    <a role="button" href="/tags/devops" class="btn btn-default btn-sm"> DevOps (9)</a>
                                </li>
                                <li>
                                    <a role="button" href="/tags/pg2" class="btn btn-default btn-sm"> PG2 (9)</a>
                                </li>
                                <li>
                                    <a role="button" href="/tags/blog" class="btn btn-default btn-sm"> Blog (7)</a>
                                </li>
                                <li>
                                    <a role="button" href="/tags/nuclei" class="btn btn-default btn-sm"> Nuclei (6)</a>
                                </li>
                                <li>
                                    <a role="button" href="/tags/pipeline-design" class="btn btn-default btn-sm"> Pipeline design (6)</a>
                                </li>
                        </ul>
                    </div>
                    <br />
                    <ul class="pager">
                        <li class="next">
                            <a href="/tags">View All Tags &rarr;</a>
                        </li>
                    </ul>
                </div>
            </div>

            <div id="content">

<div id="post">
    <div id="post-header">
        <!--
    Model is: Tuple<IDocument, IDocument>.
    The first one is the current document that is being rendered, the second one is the one for which the post header should be rendered.
-->


<h2>
Regression testing with Sherlock</h2>
<div id="post-meta">
    <p>
Wednesday, December 4, 2013
 |         Posted in                     <a id="post-category" role="button" href="/tags/regression-test" class="btn btn-default btn-xs">Regression test</a>
                    <a id="post-category" role="button" href="/tags/sherlock" class="btn btn-default btn-xs">Sherlock</a>
    </p>
</div>

    </div>

    <div id="post-content">
        <p>Over a series of posts I hope to explain how to set up and use the <a href="/projects/sherlock.html">Sherlock</a>
test environment system. The idea is to follow the set up procedure I used both at home for the
<a href="/projects/apollo.html">Apollo</a> project and the proof of concept I am working on at my work place.
But first lets start with a short explanation of what Sherlock is and what it does.</p>
<h3>What is Sherlock</h3>
<p>Sherlock consists of a set of applications and services that provide test environment organisation
and automatic execution of a set of tests on one or more test environments. The organisation part
consists of:</p>
<ul>
<li>Keeping track of which environments exist, which are available for testing and which are not, e.g.
for maintenance reasons.</li>
<li>What operating system is loaded onto each environment.</li>
<li>Which applications are pre-loaded onto each environment.</li>
<li>Relationships between virtual machines and their (physical) host machine.</li>
</ul>
<p>The test execution part consists of:</p>
<ul>
<li>Selection of the most suitable environment for a test based on the desired combination of operating
system and available applications.</li>
<li>Preparing of the environment for test. This includes loading test environments, i.e. waking up
physical test environments through the <a href="https://en.wikipedia.org/wiki/Wake-on-LAN">Wake-on-LAN</a>
approach and starting virtual machines, and sending over the test data, e.g. installer files.</li>
<li>Triggering test execution on the active test environment.</li>
<li>Processing test status and test report information.</li>
<li>Post test environment clean-up. This currently only includes resetting virtual machine disks back
to the pre-test state.</li>
<li>Accumulation of test events and generation of the final test report.</li>
</ul>
<p>In general the Sherlock system will consist of at least one
<a href="https://en.wikipedia.org/wiki/Hyper-V">Hyper-V</a> host machine and a set of one or more Hyper-V virtual
machines. In this arrangement the host machine handles the test organisation and part of the test
execution, while the virtual machines serve as test environments.</p>
<p>While it is possible for Sherlock to execute tests on physical machines it is advised to only execute
on virtual machines because of the inability to reset a physical machine back to the pre-test state.
Virtual machines on the other hand can easily be restored to the pre-test state through the use of snapshots.</p>
<h3>The life of a test</h3>
<p>When executing a test with Sherlock the following steps are present:</p>
<ol>
<li>The user creates a test configuration file which describes all requirements for the test
environment, which steps should be executed and where the report should be placed.</li>
<li>The user registers the test with Sherlock via the console application.</li>
<li>Some time after the registration of the test completed the Sherlock host service loads test
information and selects one or more suitable environments to execute the test steps on. The time
between the completion of the test registration and the starting of the test execution depends on
whether suitable test environments are available and how busy they are.</li>
<li>The selected test environments are prepared for the test execution. This preparation includes
activating the environment and transferring the test data for each environment (e.g. installer
files etc.).</li>
<li>Each environment executes the desired test steps and reports back on the success or failure of
each test step.</li>
<li>Once an environment has completed its test steps it will report the completion the test, upon
which the host service will terminate the environment and restore it to the original state.</li>
<li>Once all environments have completed their test steps the test is marked as completed and the test
report is compiled and placed in the predetermined location.</li>
</ol>
<h3>Pre-requisites</h3>
<p>The first pre-requisite in the configuration is the <a href="https://github.com/pvandervelde/Sherlock/releases">latest release</a>
of sherlock. A release consists of a number of ZIP packages including:</p>
<ul>
<li><strong>console.zip</strong> - Contains the binaries and configuration files for the console application which
is used to register a test.</li>
<li><strong>sherlock.web.api.zip</strong> - The web service that will store information about a new test in the database.</li>
<li><strong>sherlock.web.intranet.zip</strong> - The management web site that can be used to add or remove test environments.</li>
<li><strong>service.zip</strong> - The windows service that is used to run the <em>master controller</em> or the
<em>executor controller</em>.</li>
<li><strong>service.master.zip</strong> - The master controller application which handles the scheduling of tests,
loading and unloading of test environments and processing of the test reports.</li>
<li><strong>service.executor.zip</strong> - The executor controller application which controls the execution of a
test on a test environment.</li>
<li><strong>sql.zip</strong> - The SQL change scripts for the database.</li>
</ul>
<p>The second pre-requisite is the availability of a physical machine on which a Windows version with
<a href="https://en.wikipedia.org/wiki/Hyper-V#System_requirements_and_specifications">Hyper-V</a> can be installed.</p>
<h3>Planned posts:</h3>
<p>The next following posts will describe:</p>
<ol>
<li>How to set up the <a href="/posts/Setting-up-Sherlock-serverside.html">Hyper-V host machine</a>.</li>
<li>How to prepare a virtual machine for use as a <a href="/posts/Setting-up-Sherlock-virtualmachines.html">testing environment</a>.</li>
<li>How to <a href="/posts/Setting-up-Sherlock-verification.html">verify</a>
that all the environments have been configured correctly.</li>
<li>How to integrate with a <a href="/posts/Integrating-Sherlock-with-a-build-server.html">build server</a>.
This will discuss build jobs, build scripts and test configuration.</li>
<li>A description on how I used Sherlock to <a href="/posts/Regression-testing-console-applications.html">perform integration tests</a>
on the console application of <a href="/projects/apollo.html">Apollo</a>.</li>
<li>And a description on how I used Sherlock to <a href="/posts/Regression-testing-gui-applications.html">perform integration tests</a>
on a WPF application of <a href="/projects/apollo.html">Apollo</a>.</li>
</ol>

    </div>

    <div id="post-footer">
        <div>
    <div class="navlinks">
                <a href="/posts/Setting-up-nAnicitus" title="Previous Post: Setting up nAnicitus" class="navlinks-prev">« Setting up nAnicitus</a>
                <a href="/posts/Nuclei-Release-V0700" title="Next Post: Nuclei release - V0.7.0.0" class="navlinks-next">Nuclei release - V0.7.0.0 »</a>
    </div>
</div>
<div id="disqus_thread"></div>
<script type="text/javascript">
    /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
    var disqus_shortname = 'mindvortex'; // required: replace example with your forum shortname
    var disqus_identifier = 'Regression-testing-with-Sherlock';
    var disqus_title = 'Regression testing with Sherlock';
    var disqus_url = 'https://www.petrikvandervelde.nl/posts/Regression-testing-with-Sherlock';

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();

    (function () {
        var s = document.createElement('script'); s.async = true;
        s.type = 'text/javascript';
        s.src = '//' + disqus_shortname + '.disqus.com/count.js';
        (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
    }());
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>

    </div>
</div>







            </div>
        </div>

        <footer>
            <div id="footer" class="container">
    <div id="fbox1">
        <h2>Related</h2>
        <ul>
            <li id="first"><a href="https://plus.google.com/+PatrickvanderVelde/about"><i class="fa fa-google-plus"></i> Google+</a></li>
            <li><a href="https://github.com/pvandervelde"><i class="fa fa-github"></i> GitHub</a></li>
            <li><a href="https://www.linkedin.com/profile/view?id=33950311"><i class="fa fa-linkedin"></i> LinkedIn</a></li>
            <li><a href="https://stackoverflow.com/users/539846/petrik"><i class="fa fa-stack-overflow"></i> StackOverflow</a></li>
            <li><a href="https://careers.stackoverflow.com/pvandervelde"><i class="fa fa-stack-overflow"></i> StackOverflow Careers</a></li>
            <li><a href="https://twitter.com/petrikvdvelde"><i class="fa fa-twitter"></i> Twitter</a></li>
        </ul>
    </div>
    <div id="fbox2">
        <h2 id="copyright">Copyright</h2>
        <p>Copyright (c) 2019 <a href="/">Petrik van der Velde</a>. All rights reserved.</p>

        <h2 id="disclaimer">Disclaimer</h2>
        <p>The opinions expressed herein are my own personal opinions and do not represent my employer's view in any way.</p>
    </div>
    <div id="fbox3">
        <h2 id="media">Media</h2>
        <p><a href="/feed.atom"><img src="/assets/images/feed.png" alt="Atom feed"></a></p>
    </div>
</div>
<div id="copyright" class="container">
    <div>
        <p>
            Generated by <a href="https://wyam.io">Wyam</a> on Sat, 10 Aug 2019 04:31:38 GMT

 from commit <a href="https://github.com/pvandervelde/mindvortex/tree/c62db16b82d5d01385ee58c01270d4a88d5ac831">c62db16b82d5d01385ee58c01270d4a88d5ac831</a> at version 3.0.1.        </p>
    </div>

    <p>
        Site design based on the <a href="https://www.freecsstemplates.org/previews/opentools/">Open Tools</a> design
        by <a href="https://www.freecsstemplates.org">FreeCSSTemplates.org</a>.
    </p>
    <p>
        Feed icon by <a href="https://www.icojam.com/">Icojam</a> and Favicon by
        <a href="https://www.flaticon.com/free-icon/twister-sky-wind_12318" title="Yannick">Yannick</a>
        from <a href="https://www.flaticon.com" title="Flaticon">www.flaticon.com</a>
    </p>
</div>

        </footer>
    </body>
</html>

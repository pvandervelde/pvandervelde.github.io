
<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=Edge"/>

        <title>Mind vortex - Setting up nAnicitus</title>
        <meta name="description" content="Welcome!" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0">

        <link type="application/rss+xml" rel="alternate" title="Mind vortex" href="/feed.rss" />
        <link type="application/atom+xml" rel="alternate" title="Mind vortex" href="/feed.atom" />
        <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
        <link rel="icon" href="/favicon.ico" type="image/x-icon">

        <link href="/assets/css/normalize.css" rel="stylesheet" />
        <link href="/assets/css/h5bp.css" rel="stylesheet">
        <link href="/assets/css/font-awesome.min.css" rel="stylesheet" type="text/css">
        <link href='//fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic' rel='stylesheet' type='text/css'>
        <link href='//fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800' rel='stylesheet' type='text/css'>
        <link href="https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,300;0,400;0,500;0,700;0,900;1,300;1,400;1,500;1,700;1,900&display=swap" rel="stylesheet">
        <link href="https://fonts.googleapis.com/css2?family=Lato:ital,wght@0,300;0,400;0,700;0,900;1,300;1,400;1,700;1,900&display=swap" rel="stylesheet">
        <link href="/assets/css/override.css" rel="stylesheet" />
        <link href="/assets/css/github.css" rel="stylesheet" type="text/css">


        <meta name="application-name" content="Mind vortex" />
        <meta name="msapplication-tooltip" content="Mind vortex" />
        <meta name="msapplication-starturl" content="/" />

        <meta property="og:title" content="Mind vortex - Setting up nAnicitus" />
        <meta property="og:type" content="website" />
        <meta property="og:url" content="https://www.petrikvandervelde.nl/posts/Setting-up-nAnicitus" />
        <!-- TODO: More social graph meta tags -->

        <script src="/assets/js/jquery.min.js"></script>
        <script src="/assets/js/bootstrap.min.js"></script>
        <script src="/assets/js/highlight.pack.js"></script>
        <script src="/assets/js/clean-blog.js"></script>
        <script src="/assets/js/d3.v3.min.js"></script>
        <script src="/assets/js/trianglify.min.js"></script>
        <script src="/assets/js/Please-compressed.js"></script>

        <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
        <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
        <!--[if lt IE 9]>
                <script src="/assets/js/html5shiv.js"></script>
                <script src="/assets/js/respond.min.js"></script>
        <![endif]-->

        <!-- Our scripts -->
<script src="/assets/js/script.js"></script>

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-DV643VJGFT"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-DV643VJGFT');
</script>


    </head>
    <body>
        <!--[if lt IE 7]>
            <p class="chromeframe">You are using an outdated browser. <a href="http://browsehappy.com/">Upgrade your browser today</a> or <a href="http://www.google.com/chromeframe/?redirect=true">install Google Chrome Frame</a> to better experience this site.</p>
        <![endif]-->
        <div id="header" class="container">
            <div id="logo">
                <h1><a href="/">Mind vortex</a></h1>
            </div>
            <div id="menu">
                <ul>
                            <!-- Pages -->
        <!-- BlogPosts -->
        <!-- Tags -->
        <!-- TagIndex -->
        <!-- BlogArchive -->
        <!-- Index -->
        <!-- RenderTagIndex -->
        <!-- RenderTags -->
        <!-- RenderBlogArchive -->
        <!-- Feed -->
        <!-- RenderBlogPosts -->
    <!-- Context.Documents['Pages'] -->
        <!-- 404 Not Found - False - /404 -->
        <!-- About - True - /about -->
        <!-- Calvinverse - False - /projects/calvinverse -->
        <!-- nBuildKit - False - /projects/nbuildkit -->
        <!-- Projects - True - /projects -->
        <!-- Scuttle - False - /projects/scuttle -->
            <li class="inactive" >
                <a href="/">Home</a>
            </li>
            <li class="inactive" >
                <a href="/projects">Projects</a>
            </li>
            <li class="inactive" >
                <a href="/posts">Archive</a>
            </li>
            <li class="inactive" >
                <a href="/tags">Tags</a>
            </li>
            <li class="inactive" >
                <a href="/about">About</a>
            </li>

                </ul>
            </div>
        </div>

        <div id="page" class="container">
            <div id="sidebar">
                <div id="sbox1">
                    <h2>Patrick van der Velde</h2>

<p>
    <img src="https://www.gravatar.com/avatar/9bc8b3ff385cd14f2b12138c97729df2?s=160" alt="Gravatar for Patrick van der Velde">
</p>
<p>
    Dutch software developer who is living, working and playing in New Zealand.
    Rock climber and paragliding pilot. Developer of
    <a href="https://nbuildkit.github.io/nBuildKit.MsBuild/">nBuildKit</a>,
    <a href="https://github.com/Calvinverse">the Calvinverse resources</a> and other projects.
</p>
<p>
    <a href="/about.html">More ...</a>
</p>

                </div>
                <div id="sbox2">
                    <h2>Recent</h2>
                    <ul class="list-unstyled">
                            <li><a href="/posts/Robotics-a-bumper-for-scuttle-overview">Starting robotics - Building a bumper for scuttle. The overview</a></li>
                            <li><a href="/posts/Robotics-driving-scuttle-with-ros-gazebo-simulation">Starting robotics - Driving scuttle with ROS - Gazebo simulation</a></li>
                            <li><a href="/posts/Robotics-learning-ros">Starting robotics - Learning Robot Operating System (ROS)</a></li>
                            <li><a href="/posts/Starting-robotics-with-scuttle">Starting robotics with the SCUTTLE robot</a></li>
                            <li><a href="/posts/Building-autonomous-mobile-robot-why">Building an autonomous mobile robot - But why?</a></li>
                            <li><a href="/posts/Software-development-pipeline-security">Software development pipeline - Security</a></li>
                            <li><a href="/posts/Software-development-pipeline-infrastructure-dependency-reduction">Software development pipeline - Infrastructure dependency reduction</a></li>
                            <li><a href="/posts/Calvinverse-an-example-build-infrastructure">Calvinverse - An example build infrastructure</a></li>
                            <li><a href="/posts/On-prem-vs-cloud-build-systems">Software development pipeline - On-prem or in the cloud?</a></li>
                            <li><a href="/posts/Software-development-pipeline-considerations-for-infrastructure-improvements">Software development pipeline - Considerations for infrastructure improvements</a></li>
                    </ul>
                </div>
                <div id="sbox3">
                    <h2>Tags</h2>
                    <div>
                        <ul class="list-unstyled">
                                <li>
                                    <a role="button" href="/tags/Sherlock" class="btn btn-default btn-sm"> Sherlock (13)</a>
                                </li>
                                <li>
                                    <a role="button" href="/tags/nBuildKit" class="btn btn-default btn-sm"> nBuildKit (12)</a>
                                </li>
                                <li>
                                    <a role="button" href="/tags/DevOps" class="btn btn-default btn-sm"> DevOps (11)</a>
                                </li>
                                <li>
                                    <a role="button" href="/tags/Delivering-software" class="btn btn-default btn-sm"> Delivering software (11)</a>
                                </li>
                                <li>
                                    <a role="button" href="/tags/Software-development-pipeline" class="btn btn-default btn-sm"> Software development pipeline (11)</a>
                                </li>
                                <li>
                                    <a role="button" href="/tags/Paragliding" class="btn btn-default btn-sm"> Paragliding (9)</a>
                                </li>
                                <li>
                                    <a role="button" href="/tags/PG2" class="btn btn-default btn-sm"> PG2 (9)</a>
                                </li>
                                <li>
                                    <a role="button" href="/tags/Blog" class="btn btn-default btn-sm"> Blog (7)</a>
                                </li>
                                <li>
                                    <a role="button" href="/tags/Pipeline-design" class="btn btn-default btn-sm"> Pipeline design (6)</a>
                                </li>
                                <li>
                                    <a role="button" href="/tags/Nuclei" class="btn btn-default btn-sm"> Nuclei (6)</a>
                                </li>
                        </ul>
                    </div>
                    <br />
                    <ul class="pager">
                        <li class="next">
                            <a href="/tags">View All Tags &rarr;</a>
                        </li>
                    </ul>
                </div>
            </div>

            <div id="content">

<div id="post">
    <div id="post-header">
        <!--
    Model is: Tuple<IDocument, IDocument>.
    The first one is the current document that is being rendered, the second one is the one for which the post header should be rendered.
-->


<h2>
Setting up nAnicitus</h2>
<div id="post-meta">
    <div class="meta-date">
Tuesday, December 3, 2013
 |             Posted in     </div>
    <div class="meta-tags">
                        <a id="post-category" role="button" href="/tags/nAnicitus" class="btn btn-default btn-xs tag-no-wrap">nAnicitus</a>
                        <a id="post-category" role="button" href="/tags/PDB" class="btn btn-default btn-xs tag-no-wrap">PDB</a>
                        <a id="post-category" role="button" href="/tags/Symbol-server" class="btn btn-default btn-xs tag-no-wrap">Symbol&nbsp;server</a>
                        <a id="post-category" role="button" href="/tags/SymStore" class="btn btn-default btn-xs tag-no-wrap">SymStore</a>
    </div>
</div>

    </div>

    <div id="post-content">
        <p>In this post I will explain how to install and configure the <a href="/projects/nanicitus.html">nAnicitus</a>
windows service. nAnicitus is a windows service that acts as a gatekeeper for the
<a href="https://msdn.microsoft.com/en-us/library/windows/hardware/ff558848(v=vs.85).aspx">SymStore</a> application. SymStore provides a relatively simple way to create a
local / private <a href="https://msdn.microsoft.com/en-us/library/windows/desktop/ms680693%28v=vs.85%29.aspx">symbol server</a>.</p>
<p>This statement should bring up a few questions, cunning questions like:</p>
<ol>
<li>Why would a development team even need a symbol server?
The PDB files which are produced as the result of a build are just as unique as assemblies or executables.
Each assembly has <a href="http://www.wintellect.com/blogs/jrobbins/pdb-files-what-every-developer-must-know">one specific PDB</a>
file to which it is linked via a GUID. Each time an assembly is build a new GUID is embedded,
even if the source code has not changed. This means that in order to debug a given assembly for
which you don't have the source code, which can happen if you debug other peoples libraries or if you
are debugging a crash dump, then you will need the linked PDB file. Hence in order to enable
debugging of releases one has to either place the PDB in the same location as the binaries or one
has to store the PDB files in a symbol server.</li>
<li>Why would a development team not use SymStore directly?
The disadvantage of SymStore is that it is not capable of processing
<a href="https://msdn.microsoft.com/en-us/library/windows/hardware/ff558851(v=vs.85).aspx">multiple PDB files at the same time</a>, i.e. it should really only
be called by one user at the time. By providing a windows service that synchronizes the access to
the SymStore application it is possible for multiple users to add symbols to the symbol server
without having to worry about the integrity of the symbol server files.</li>
</ol>
<p>Before we continue with the installation of nAnicitus lets have a quick look at how nAnicitus works.</p>
<ol>
<li>The user creates a
<a href="https://docs.nuget.org/docs/creating-packages/creating-and-publishing-a-symbol-package">NuGet symbol package</a>
and places that in a pre-configured upload directory.</li>
<li>nAnicitus unpacks the symbol package and extracts the PDB files and the source files.</li>
<li>For each PDB file it is determined which source files were used to create it. Based on that
information a <a href="https://msdn.microsoft.com/en-us/library/windows/desktop/ms680641%28v=vs.85%29.aspx">symbol stream</a> is created and inserted into the PDB file which
points to the source server path for the source files belonging to the PDB file.</li>
<li>The PDB files are uploaded via <a href="https://msdn.microsoft.com/en-us/library/windows/hardware/ff558848(v=vs.85).aspx">SymStore</a>.</li>
<li>The source files are uploaded to the source server path.</li>
</ol>
<p>Before installing nAnicitus it is necessary to install the
<a href="https://msdn.microsoft.com/en-us/library/windows/hardware/gg463009.aspx">debugging tools for windows</a>.
Make sure to install the complete set of tools so that you get all the symbol server tools as well.
Once the the debugging tools are installed you can <a href="https://github.com/pvandervelde/nAnicitus/releases">download</a>
and unzip the latest version of nAnicitus.</p>
<p>The next step is to update the configuration file with the directory and UNC paths:</p>
<ul>
<li><strong>DebuggingToolsDirectory:</strong> The debugging tools directory
(e.g. <code>c:\Program Files (x86)\Windows Kits\8.0\Debuggers\x64</code>). This path may be left out if it is
in the default location (as given here).</li>
<li><strong>SourceIndexUncPath:</strong> The UNC path to the directory where the indexed sources will be placed
(e.g. <code>\\MyServer\sources</code>).</li>
<li><strong>SymbolsIndexUncPath:</strong> The UNC path to the directory where the indexed symbols (i.e. PDBs) will
be placed (e.g. <code>\\MyServer\symbols</code>).</li>
<li><strong>ProcessedPackagesPath:</strong> The directory where the NuGet symbol packages will be dropped after they
are processed. The NuGet symbol packages are saved in this directory so that it is possible to
reprocess the packages if for instance the location of the source path changes, e.g. after
switching to a new server.</li>
<li><strong>UploadPath:</strong> The directory where the NuGet symbol packages are placed for nAnicitus to process.</li>
</ul>
<p>Finally to install the application as a windows service, open a command line window with administrative
permissions, navigate to the nAnicitus install directory and execute the following command:</p>
<pre><code>Nanicitus.Service install
</code></pre>
<p>Once the service is installed use the normal windows services control to change the properties of
the service.</p>
<p>And now you should have a working symbol server!</p>

    </div>

    <div id="post-footer">
        <div>
    <div class="navlinks">
                <a href="/posts/PG2-Bumpy-air-smooth-air" title="Previous Post: PG2 - Bumpy air, smooth air" class="navlinks-prev">« PG2 - Bumpy air, smooth air</a>
                <a href="/posts/Regression-testing-with-Sherlock" title="Next Post: Regression testing with Sherlock" class="navlinks-next">Regression testing with Sherlock »</a>
    </div>
</div>
<div id="disqus_thread"></div>
<script type="text/javascript">
    /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
    var disqus_shortname = 'mindvortex'; // required: replace example with your forum shortname
    var disqus_identifier = 'Setting-up-nAnicitus';
    var disqus_title = 'Setting up nAnicitus';
    var disqus_url = 'https://www.petrikvandervelde.nl/posts/Setting-up-nAnicitus';

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();

    (function () {
        var s = document.createElement('script'); s.async = true;
        s.type = 'text/javascript';
        s.src = '//' + disqus_shortname + '.disqus.com/count.js';
        (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
    }());
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>

    </div>
</div>







            </div>
        </div>

        <footer>
            <div id="footer" class="container">
    <div id="fbox1">
        <h2>Related</h2>
        <ul>
            <li><a href="https://github.com/pvandervelde"><i class="fa fa-github"></i> GitHub</a></li>
            <li><a href="https://www.linkedin.com/profile/view?id=33950311"><i class="fa fa-linkedin"></i> LinkedIn</a></li>
            <li><a href="https://stackoverflow.com/users/539846/petrik"><i class="fa fa-stack-overflow"></i> StackOverflow</a></li>
            <li><a href="https://careers.stackoverflow.com/pvandervelde"><i class="fa fa-stack-overflow"></i> StackOverflow Careers</a></li>
            <li><a href="https://profile.codersrank.io/user/pvandervelde">CodersRank</a></li>
        </ul>
    </div>
    <div id="fbox2">
        <h2 id="copyright">Copyright</h2>
        <p>Copyright (c) 2022 <a href="/">Petrik van der Velde</a>. All rights reserved.</p>

        <h2 id="disclaimer">Disclaimer</h2>
        <p>The opinions expressed herein are my own personal opinions and do not represent my employer's view in any way.</p>
    </div>
    <div id="fbox3">
        <h2 id="media">Media</h2>
        <p><a href="/feed.atom"><img src="/assets/images/feed.png" alt="Atom feed"></a></p>
    </div>
</div>
<div id="copyright" class="container">
    <div>
        <p>
            Generated by <a href="https://wyam.io">Wyam</a> on Sat, 27 Aug 2022 00:43:53 GMT

 from commit <a href="https://github.com/pvandervelde/mindvortex/tree/35a3bdf6c1a9fbdd88569188cac65f4da16fd1cd">35a3bdf6c1a9fbdd88569188cac65f4da16fd1cd</a> at version 3.8.0.        </p>
    </div>

    <p>
        Site design based on the <a href="https://www.freecsstemplates.org/previews/opentools/">Open Tools</a> design
        by <a href="https://www.freecsstemplates.org">FreeCSSTemplates.org</a>.
    </p>
    <p>
        Feed icon by <a href="https://www.icojam.com/">Icojam</a> and Favicon by
        <a href="https://www.flaticon.com/free-icon/twister-sky-wind_12318" title="Yannick">Yannick</a>
        from <a href="https://www.flaticon.com" title="Flaticon">www.flaticon.com</a>
    </p>
</div>

        </footer>
    </body>
</html>
